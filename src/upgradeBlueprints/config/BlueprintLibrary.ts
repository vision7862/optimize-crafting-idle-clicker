import { BASE_BP } from '../helpers/blueprintObjectHelpers';
import { Blueprint } from '../types/Blueprint';

// strategy 21+10, bottom blueprint for stage 2, 3, 4, etc
const s21 = {
  b2: { ...BASE_BP, evolutionStage: 2, score: 60, scoreChangePerLevel: 6 },
  b3: { ...BASE_BP, evolutionStage: 3, score: 480, scoreChangePerLevel: 48 },
  b4: { ...BASE_BP, evolutionStage: 4, score: 4800, scoreChangePerLevel: 480 },
};

// strategy 51+10, bottom blueprint for stage 2, 3, 4, etc
const s51 = {
  b2: { ...BASE_BP, evolutionStage: 2, score: 120, scoreChangePerLevel: 12 },
  b3: { ...BASE_BP, evolutionStage: 3, score: 1680, scoreChangePerLevel: 168 },
  b4: { ...BASE_BP, evolutionStage: 4, score: 26880, scoreChangePerLevel: 2688 },
};

export const BLUEPRINT_LIBRARY: Blueprint[] = [
  { ...s51.b4, productName: 'Wood', upgradeLevel: 21, score: 80640 },
  { ...s21.b2, productName: 'Club' },
  { ...s21.b3, productName: 'Arrows', score: 360, scoreChangePerLevel: 36 },
  { ...s21.b2, productName: 'Bow' },
  { ...s51.b3, productName: 'Rawhide', upgradeLevel: 51, score: 10080 },
  { ...s51.b3, productName: 'Leather', upgradeLevel: 21, score: 5040 },
  { ...s21.b2, productName: 'Boots' },
  { ...BASE_BP, productName: 'Hilt', upgradeLevel: 21, score: 30 },
  { ...s21.b2, productName: 'Leather Armor' },
  { ...s51.b3, productName: 'Copper Ore' },
  { ...s51.b2, productName: 'Copper Ingots', upgradeLevel: 51, score: 720 },
  { productName: 'Copper Axe', evolutionStage: 4, upgradeLevel: 51, score: 37800, scoreChangePerLevel: 630 },
  { ...s21.b3, productName: 'Copper Blades' },
  { ...s21.b3, productName: 'Copper Knife' },
  { productName: 'Copper Dagger', evolutionStage: 3, upgradeLevel: 1, score: 520, scoreChangePerLevel: 52 },
  { ...s51.b2, productName: 'Tin Ore', upgradeLevel: 51, score: 720 },
  { productName: 'Bronze Ingots', evolutionStage: 3, upgradeLevel: 11, score: 1200, scoreChangePerLevel: 60 },
  { productName: 'Bronze Spear', evolutionStage: 3, upgradeLevel: 11, score: 1200, scoreChangePerLevel: 60 },
  { ...s21.b2, productName: 'Bronze Shield' },
  { ...s21.b3, productName: 'Bronze Blades', upgradeLevel: 11, score: 960 },
  { ...s21.b3, productName: 'Bronze Dagger', upgradeLevel: 11, score: 960 },
  { ...s21.b2, productName: 'Bronze Sword' },
  { ...s51.b2, productName: 'Coal', upgradeLevel: 41, score: 600 },
  { ...s51.b2, productName: 'Coal' },
  { ...s51.b2, productName: 'Iron Ore', upgradeLevel: 41, score: 600 },
  { ...s21.b4, productName: 'Iron Ingots', upgradeLevel: 21, score: 16200, scoreChangePerLevel: 540 },
  { ...BASE_BP, productName: 'Chisel', upgradeLevel: 41, score: 50 },
  { ...s21.b2, productName: 'Iron Mace' },
  { ...s21.b3, productName: 'Iron Rivets', score: 390, scoreChangePerLevel: 39 },
  { ...BASE_BP, productName: 'Shovel', upgradeLevel: 41, score: 50 },
  { ...BASE_BP, productName: 'Lump Hammer', upgradeLevel: 41, score: 50 },
  { ...s21.b2, productName: 'Iron Helmet' },
  { ...s21.b3, productName: 'Iron Plates' },
  { ...s21.b3, productName: 'Imp. Leather Armor', score: 600, scoreChangePerLevel: 60 },
  { ...s21.b3, productName: 'Iron Blades', upgradeLevel: 41, score: 2400 },
  { ...s21.b2, productName: 'Iron Sword', score: 70, scoreChangePerLevel: 7 },
  { ...s21.b2, productName: 'Iron Armor' },
  { ...s21.b2, productName: 'Iron Claymore', score: 70, scoreChangePerLevel: 7 },
  { ...s51.b2, productName: 'Gold Ore', upgradeLevel: 41, score: 600 },
  { ...s51.b2, productName: 'Gold Ingots', upgradeLevel: 41, score: 600 },
  { ...BASE_BP, productName: 'Uncut Emerald' },
  { ...BASE_BP, productName: 'Gold Ring', upgradeLevel: 51, score: 60 },
  { ...BASE_BP, productName: 'Gold Necklace' },
  { ...BASE_BP, productName: 'Steel' },
  { ...BASE_BP, productName: 'Pickaxe', upgradeLevel: 41, score: 50 },
  { ...BASE_BP, productName: 'War Hammer' },
  { ...BASE_BP, productName: 'Steel Blades', upgradeLevel: 21, score: 30 },
  { ...BASE_BP, productName: 'Map', upgradeLevel: 41, score: 50 },
  { ...BASE_BP, productName: 'Katana' },
  { ...BASE_BP, productName: 'Magnificent Bow', upgradeLevel: 21, score: 30 },
  { ...BASE_BP, productName: 'Magnificent Hilt' },
  { ...BASE_BP, productName: 'Magnificent Hammer' },
  { ...BASE_BP, productName: 'Magnificent Sword' },
  { ...BASE_BP, productName: 'Uncut Sapphire', upgradeLevel: 21, score: 30 },
  { ...BASE_BP, productName: 'Magnificent Armor' },
  { ...s51.b2, productName: 'Mechanical Parts', upgradeLevel: 31, score: 480 },
  { ...BASE_BP, productName: 'Magnificent Crossbow', upgradeLevel: 31, score: 40 },
  { ...BASE_BP, productName: 'Sulfur', upgradeLevel: 31, score: 40 },
  { ...BASE_BP, productName: 'Bongos', upgradeLevel: 41, score: 50 },
  { ...BASE_BP, productName: 'Cut Sapphire' },
  { ...BASE_BP, productName: 'Microscope', upgradeLevel: 21, score: 30 },
  { ...BASE_BP, productName: 'Compass', upgradeLevel: 61, score: 70 },
  { ...BASE_BP, productName: 'Clockwork', upgradeLevel: 21, score: 30 },
  { ...BASE_BP, productName: 'Saltpeter', upgradeLevel: 31, score: 40 },
  { ...BASE_BP, productName: 'Gunpowder', upgradeLevel: 41, score: 50 },
  { ...BASE_BP, productName: 'Saxophone', upgradeLevel: 41, score: 50 },
  { ...BASE_BP, productName: 'Electro Magnet', upgradeLevel: 21, score: 30 },
  { ...BASE_BP, productName: 'Machine Parts', upgradeLevel: 21, score: 30 },
  { ...BASE_BP, productName: 'Camera', upgradeLevel: 21, score: 30 },
  { ...BASE_BP, productName: 'Mortar', upgradeLevel: 21, score: 30 },
  { ...BASE_BP, productName: 'Stethoscope', upgradeLevel: 21, score: 30 },
  { ...BASE_BP, productName: 'Musket', upgradeLevel: 31, score: 40 },
  { ...BASE_BP, productName: 'Motor Unit', upgradeLevel: 21, score: 30 },
  { ...BASE_BP, productName: 'Hedge Trimmer', upgradeLevel: 31, score: 40 },
  { ...BASE_BP, productName: 'Steam Engine', upgradeLevel: 21, score: 30 },
  { ...BASE_BP, productName: 'Rocket Launcher', upgradeLevel: 11, score: 20 },
  { ...BASE_BP, productName: 'Telephone', upgradeLevel: 21, score: 30 },
  { ...BASE_BP, productName: 'Steam Boat', upgradeLevel: 21, score: 30 },
  { ...BASE_BP, productName: 'Cannon', upgradeLevel: 11, score: 20 },
  { ...BASE_BP, productName: 'Locomotive', upgradeLevel: 21, score: 30 },
  { ...BASE_BP, productName: 'Tiki Torch', upgradeLevel: 21, score: 30 },
  { ...BASE_BP, productName: 'Combustion Engine', upgradeLevel: 31, score: 40 },
  { ...s51.b2, productName: 'Antenna', upgradeLevel: 11, score: 240 },
  { ...BASE_BP, productName: 'Car', upgradeLevel: 21, score: 30 },
  { ...BASE_BP, productName: 'Truck', upgradeLevel: 21, score: 30 },
  { ...BASE_BP, productName: 'X-Ray Machine', upgradeLevel: 21, score: 30 },
  { ...BASE_BP, productName: 'Flashlight', upgradeLevel: 11, score: 20 },
  { ...BASE_BP, productName: 'Movie Projector', upgradeLevel: 11, score: 20 },
  { ...BASE_BP, productName: 'Electric Motor', upgradeLevel: 11, score: 20 },
  { ...BASE_BP, productName: 'Monitor' },
  { ...BASE_BP, productName: 'Lawn Mower', upgradeLevel: 21, score: 30 },
  { ...BASE_BP, productName: 'Defibrillator', upgradeLevel: 11, score: 20 },
  { ...BASE_BP, productName: 'Space Probe', upgradeLevel: 11, score: 20 },
  { ...BASE_BP, productName: 'TV Set' },
  { ...BASE_BP, productName: 'Rocket', upgradeLevel: 11, score: 20 },
  { ...BASE_BP, productName: 'Microchip' },
  { ...BASE_BP, productName: 'PC' },
];

// for BPs without all details in MainWorkshop.txt, maps name to upgrade cost of when at lvl 1
export const BUILD_COST_OF_BPS_WITHOUT_DETAILS = new Map<string, number>([
  ['Hedge Trimmer', 117],
  ['Tiki Torch', 122],
  ['Lawn Mower', 127],
  ['Stethoscope', 113],
  ['X-Ray Machine', 125],
]);

// TODO: GH-4: only merge if there are excess blueprints for that product. for now, hardcode ones the algo wants that i don't have
// TODO: set up the strategy to also allow marking a top tier at which to stop merging. for now put that here
export const BPS_TO_NOT_MERGE = ['Chisel', 'Map', 'Bongos', 'Copper Axe'];

// some blueprints should not use 51+10 strategy. they should use x+10 instead, map product name to x
export const NON_51_PLUS_10_STRATEGY = new Map<string, number>([
  ['Compass', 71],
  ['Club', 21],
  ['Arrows', 21],
  ['Bow', 21],
  ['Boots', 21],
  ['Hilt', 21],
  ['Leather Armor', 21],
  ['Copper Ingot', 21],
  ['Copper Axe', 21],
  ['Copper Blades', 21],
  ['Copper Knife', 21],
  ['Copper Dagger', 21],
  ['Bronze Spear', 21],
  ['Bronze Shield', 21],
  ['Bronze Blades', 21],
  ['Bronze Dagger', 21],
  ['Bronze Sword', 21],
  ['Chisel', 21],
  ['Iron Mace', 21],
  ['Iron Helmet', 21],
  ['Iron Plates', 21],
  ['Imp. Leather Armor', 21],
  ['Iron Blades', 21],
  ['Iron Sword', 21],
  ['Iron Armor', 21],
  ['Iron Claymore', 21],
]);
